- [Shell参数](#Shell参数)
    - [位置参数](#位置参数)
    - [特殊参数](#特殊参数)
### Shell参数 ###
**参数**是用来存储值的实体。其值可以为一个名字，数字或者任意特殊字符。
一个变量是一个由名字表示的参数，同时具有一个值或任意属性。属性是通过declare内置命令给定的。
当一个参数被赋值的同时也设置了参数。 null字符串是一个合法值。一旦变量被设置之后，可以通过unset内置命令重置。

变量的赋值可以通过以下形式的语句实现：
    
    name=[value]

如果value没有给定的话，那么变量的值被设置为null字符串。所有的值都会进行[波浪号扩展、参数和变量扩展、命令替换、算术扩展、引号移除]。如果变量设置了integer属性，那么值会作为一个算术表达式进行求解——尽管没有使用$((...))扩展。
除了$@之外的其他单词分割不会被执行。
文件名扩展也不会被执行。
赋值语句也可以出现在alias、declare、typeset、export、readonly和local等内置命令的参数中。
当在POSIX模式中时，这些内置命令可能出现在command内置命令实例后面的一个命令中，并且保留了这些赋值语句属性。

在将一个值赋值给一个shell变量或数组索引的赋值语句上下文环境中，'+='可以用来附加或增加到变量之前的值上。对于具有integer属性的变量，'+='作为算术表达式求解将该值加到之前的值上；当'+='应用到一个数组变量上时，那么新的值会被添加到数组的最大索引值后面一个位置，或者加入一个键-值对到关联数组中。当应用到一个字符串值变量时，那么新值会添加到变量值后面。

一个变量可以通过使用declare/local与-n选项赋予其nameref属性来创建一个nameref或者引用另外一个变量。这可以允许间接来操作变量。
无论何时nameref变量被引用或者赋值，对应的操作都会在有nameref变量值指定的变量上应用。一个nameref常见被用在shell函数中内引用传递给函数的参数。例如，如果一个变量名被传递给一个shell函数作为其第一个参数，在函数内部运行以下语句
    
    declare -n ref=$ref

会创建一个变量引用其值为第一参数的值。对ref的引用和赋值会等价于对变量$1的引用和赋值。

如果在for循环中的控制变量具有nameref属性，单词列表可以为一个shell变量列表，在循环被执行时，对于每个名称的引用会建立在列表中的每个单词上。数组变量不能指定-n属性。
然而nameref变量可以引用数组变量和带下标的数组变量。
namerefs变量可以通过unset内置命令与-n选项来重置。
如果unset命令将nameref变量作为一个参数来执行，通过nameref变量引用的变量会被重置。
    

#### 位置参数 ####
**位置参数**是一个由一个或多个数字(不包括0)表示的参数。位置参数是在shell被调用时由其参数进行赋值的，也可以通过set内置命令重新赋值。
位置参数N可以通过${N}来进行引用，如果N为单个数字的话可以直接通过$N进行应用。
位置参数可能不能通过赋值语句来进行赋值，内置set和shift被用来设置或重置位置参数。
位置参数在shell函数执行时会被临时替换。
在具有多于一个数字的位置参数进行扩展时，位置参数的数字必须使用大括号括起来。


#### 特殊参数 ####
    
    *
        ($*)扩展为所有的位置参数，索引从1开始，当扩展没有在双引号中时，每个
        位置参数扩展为分隔的单词。在执行上下文中，这些单词会继续执行单词分隔
        和路径名扩展。当扩展在双引号中时，会扩展为一个由分隔符分隔的单个单词
        ，如果没有设置分隔符，那么默认使用空格作为分隔符进行分隔。如果IFS为
        null，那么参数之间的连接没有任何的分隔符。

    @
        ($@)扩展为所有的位置参数，索引从1开始。当在双引号中进行扩展时，每个参数扩展为分隔的单词。如果单词中出现了双引号扩展，第一个参数的扩展会使用原单词的开始部分进行连接，而最后一个参数使用原单词的最后一部分进行连接。当没有位置参数时，"$@"和$@不会扩展为任何事物。

    #
        ($#)会被扩展为十进制表示的位置参数的个数

    ？
        ($?)扩展为最近执行程序的退出状态

    -
        ($-)扩展为调用时指定的当前选项标志--由set内置命令设置的或者shell本身设置的选项（如-i）

    $
        ($$)扩展为shell的进程ID。在一个子shell中(),扩展为调用进程的进程ID而不是子shell的进程ID。

    ！
        ($!)扩展为最近放置在后台的任务的进程ID，不论是作为异步命令被执行的还是使用bg内置命令执行的。

    0
        ($0)扩展为shell或shell脚本文件的名称。这个在shell初始化的时候被设置。如果shell是通过一个命令文件被执行的话，那么$0被设置为文件名。如果bash由-c选项启动，那么$0被设置为被执行字符串后面的第一个参数。否则会被设置为用来调用Bash的文件名，作为参数0进行给定。

    _
        ($_)在shell启动时设置为用来调用shell或shell脚本的绝对路径名。之后在扩展后会被扩展为前一个命令的最后参数。也会被设置为用来调用执行命令和环境中导出到该命令的全路径名。当检查mail时，这个参数持有mail文件名。

